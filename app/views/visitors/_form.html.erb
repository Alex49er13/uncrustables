<%= form_with(model: @visitor) do |form| %>
<form class="form-horizontal" action="/action_page.php">
<%= hidden_field_tag(:selection, @selection) %>

   <%= select_tag(:company_id, options_for_select(@companies),class:"company_select", include_blank:true) %> 
<%= select_tag(:guest_id, options_for_select(@guests), include_blank:true) %>
<script>
 $('#guest_id option').attr("disabled","disabled")
$('.company_select').change(function(){
    $('#guest_id option').attr("disabled","disabled")
    var company_id = $(this).val()
    $('.' + company_id).removeAttr("disabled")
})â€©

</script>

  <div class="form-group"> 
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Submit</button>
        <div class="alert alert-success">
        </div>
    </div>
  </div>
</form>
<% end %>